const express=require("express"),path=require("path"),router=express.Router(),{ensureAuthenticated:ensureAuthenticated,ensureRole:ensureRole}=require("../../middleware/auth"),routepath=path.join(__dirname,""),projectRoot=path.join(__dirname,"../.."),MediaMangerRoutes=require(routepath+"/media_manager/main"),ProductMangerRoutes=require(routepath+"/product_manager/main");router.use(ensureAuthenticated,ensureRole("admin")),router.use("/static",express.static(path.join(projectRoot,"/views/backend"))),router.use("/mediamanager",MediaMangerRoutes),router.use("/productmanager",ProductMangerRoutes),router.get("/",((req,res)=>{res.render("./backend/pages/dashboard",{layout:"backend/layout/main",title:"Dashboard"})})),module.exports=router;